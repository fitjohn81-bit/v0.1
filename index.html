<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Men’s Official Shoes | Premium Leather Collection</title>
  <script src="https://js.braintreegateway.com/web/dropin/1.45.1/js/dropin.js"></script>
  <link rel="stylesheet" href="./auth.css" />
  <style>
    :root {
      --primary-blue: #1c1f26;
      --secondary-gold: #d4af37;
      --text-dark: #222;
      --background-light: #f5f5f5;
      --shadow-subtle: 0 4px 12px rgba(0,0,0,0.08);
    }

```
body {
  font-family: 'Inter', 'Segoe UI', Roboto, sans-serif;
  background-color: var(--background-light);
  color: var(--text-dark);
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

header {
  width: 100%;
  background: var(--primary-blue);
  color: white;
  padding: 15px 0;
  text-align: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

header h1 {
  margin: 0;
  font-size: 1.7rem;
  font-weight: 700;
  letter-spacing: 1px;
}

.hero {
  text-align: center;
  padding: 60px 20px 40px;
  max-width: 800px;
}

.hero h2 {
  color: var(--primary-blue);
  font-size: 2.5rem;
  margin-bottom: 10px;
  font-weight: 800;
}

.hero p {
  color: #555;
  font-size: 1.15rem;
  line-height: 1.7;
  margin-bottom: 30px;
}

.product-checkout-container {
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  padding: 20px;
  width: 90%;
  max-width: 960px;
  margin-bottom: 50px;
}

.product-details {
  flex: 2;
  background: white;
  border-radius: 12px;
  box-shadow: var(--shadow-subtle);
  padding: 30px;
  text-align: left;
}

.shoe-image {
  width: 100%;
  min-height: 350px;
  background: url('https://images.unsplash.com/photo-1600185365926-3a2ce00f1d95?auto=format&fit=crop&w=800&q=60') center/cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.15);
}

.product-details h3 {
  font-size: 1.8rem;
  color: var(--primary-blue);
  margin-top: 0;
  border-bottom: 2px solid #eee;
  padding-bottom: 10px;
}

.product-details ul {
  list-style: none;
  padding-left: 0;
  margin-top: 15px;
}

.product-details ul li {
  padding: 8px 0;
  color: #444;
  border-bottom: 1px dashed #eee;
}

.payment-sidebar {
  flex: 1;
  min-width: 300px;
  background: white;
  border-radius: 12px;
  box-shadow: var(--shadow-subtle);
  padding: 30px;
  text-align: center;
}

.payment-sidebar h4 {
  color: var(--text-dark);
  font-size: 1.4rem;
  margin-top: 0;
  margin-bottom: 20px;
}

.price {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--secondary-gold);
  margin-bottom: 20px;
}

#dropin-container {
  width: 100%;
  margin: 15px 0;
}

.button {
  cursor: pointer;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  padding: 14px 28px;
  font-size: 1.1rem;
  background-color: var(--secondary-gold);
  color: var(--primary-blue);
  transition: background 250ms ease, transform 150ms ease;
  width: 100%;
  box-shadow: 0 4px 6px rgba(212, 175, 55, 0.4);
}

.button:hover {
  background-color: #c8a532;
  transform: translateY(-2px);
}

footer {
  margin-top: auto;
  width: 100%;
  background: var(--primary-blue);
  color: white;
  text-align: center;
  padding: 20px 0;
  font-size: 0.9rem;
}

@media (max-width: 768px) {
  .product-checkout-container {
    flex-direction: column;
  }
  .hero h2 {
    font-size: 2rem;
  }
  .product-details, .payment-sidebar {
    width: 100%;
  }
}
```

  </style>
</head>
<body>
  <header>
    <h1>EliteSteps — Official Men’s Shoes</h1>
  </header>

  <section class="hero">
    <h2>Step Into Confidence</h2>
    <p>Welcome to <strong>EliteSteps</strong>, where craftsmanship meets comfort.  
       Explore our premium collection of <em>official leather shoes</em> designed for style, durability, and excellence in every step.</p>
  </section>

  <div class="product-checkout-container">
    <section class="product-details">
      <div class="shoe-image"></div>
      <h3>Men’s Premium Leather Shoes</h3>
      <p>Crafted from the finest Italian leather, these shoes redefine elegance and durability — perfect for professionals, weddings, and business meetings.</p>

```
  <ul>
    <li>✅ 100% Genuine Leather Finish</li>
    <li>✅ Durable Rubber Sole for All-Day Comfort</li>
    <li>✅ Available in Black, Brown, and Tan</li>
    <li>✅ Handcrafted Detailing with Breathable Lining</li>
    <li>✅ Free shipping within Kenya & secure payment guarantee</li>
  </ul>
</section>

<section class="payment-sidebar">
  <h4>Buy Securely Now</h4>
  <div class="price">$89.99 USD</div>

  <div id="dropin-container"></div>

  <button id="submit-button" class="button">
    Buy Now
  </button>

  <p style="font-size: 0.8rem; color: #777; margin-top: 15px;">Payments processed securely via Braintree / PayPal.</p>
</section>
```

  </div>

  <footer>
    &copy; 2025 EliteSteps. All rights reserved — Designed for Gentlemen.
  </footer>

  <script>
    async function setupBraintree() {
      try {
        const response = await fetch("/api/generate_token");
        const data = await response.json();
        if (!data.clientToken) {
          console.error("No client token received:", data);
          alert("Failed to connect to payment server. Please try again later.");
          return;
        }

        braintree.dropin.create({
          authorization: data.clientToken,
          container: "#dropin-container",
        }, function (createErr, instance) {
          if (createErr) {
            console.error("Braintree setup error:", createErr);
            alert("Error setting up payment form. Check console.");
            return;
          }

          const button = document.getElementById("submit-button");
          button.addEventListener("click", () => {
            instance.requestPaymentMethod(async (err, payload) => {
              if (err) {
                console.error("Payment method error:", err);
                alert("Payment error. Please check your details.");
                return;
              }

              console.log("Payment Nonce:", payload.nonce);
              alert("Payment initiated successfully! Nonce ready to send to server.");
              
              /* Example server call:
              const checkoutResponse = await fetch("/api/process_payment", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                  nonce: payload.nonce,
                  amount: 89.99,
                  product_id: "MEN-LEATHER-SHOE-001"
                })
              });
              */
            });
          });
        });
      } catch (error) {
        console.error("Error setting up Braintree:", error);
        alert("Setup failed — check console for details.");
      }
    }
    setupBraintree();
  </script>

</body>
</html>
